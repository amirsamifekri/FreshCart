import{a as Y,b as j,c as M}from"./chunk-6UWPFH63.js";import{a as B}from"./chunk-3YY2OBPI.js";import{a as V}from"./chunk-DHNIFRC3.js";import{l as N}from"./chunk-AMXSIHDB.js";import{a as R}from"./chunk-QC7UIFZV.js";import{e as L}from"./chunk-2NUI7P3E.js";import{h as A,i as W,n as F}from"./chunk-XJYRAHVJ.js";import{$ as l,Db as I,Eb as c,Fb as m,Gb as w,La as C,Mb as E,Qa as a,Ra as S,Tb as k,Va as D,Vb as O,ba as x,cb as h,eb as u,ib as b,ka as _,la as f,mb as o,nb as d,ob as g,pb as T,qb as P,rb as y,vb as v,wb as p}from"./chunk-VJU5KXBJ.js";function z(r,n){if(r&1&&g(0,"img",16),r&2){let i=p().$implicit;u("src",i,C)}}function G(r,n){r&1&&(T(0),h(1,z,1,1,"ng-template",15),P())}function U(r,n){if(r&1){let i=y();o(0,"section",1)(1,"i",2),v("click",function(){_(i);let t=p();return f(t.addToWishlist(t.productDetails._id))}),d(),o(2,"div",3)(3,"div",4)(4,"owl-carousel-o",5),h(5,G,2,0,"ng-container",6),d()(),o(6,"div",7)(7,"div")(8,"h2",8),c(9),d(),o(10,"p",9),c(11),d(),o(12,"span"),c(13),d(),o(14,"div",10)(15,"span",11),c(16),k(17,"currency"),d(),o(18,"p",12),g(19,"i",13),o(20,"span"),c(21),d()()(),o(22,"button",14,0),v("click",function(){_(i);let t=I(23),s=p();return f(s.addToCart(s.productDetails._id,t))}),c(24," +Add To Cart "),d()()()()()}if(r&2){let i=p();a(),u("ngClass",i.idsOfProductsYouLikedThem.includes(i.productDetails._id)?"fa-solid":"fa-regular"),a(3),u("options",i.productDetailsSlidersOptions),a(),u("ngForOf",i.productDetails.images),a(4),m(i.productDetails.title),a(2),m(i.productDetails.description),a(2),w(" ",i.productDetails.category.name," "),a(3),m(O(17,8,i.productDetails.price,"EGP")),a(5),m(i.productDetails.ratingsAverage)}}var rt=(()=>{let n=class n{constructor(e){this.toastr=e,this._ActivatedRoute=l(L),this._ProductsService=l(B),this._CartService=l(R),this._Renderer2=l(D),this.productId="",this._WishlistService=l(V),this.idsOfProductsYouLikedThem=[],this.productDetailsSlidersOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,autoplayTimeout:7e3,autoplaySpeed:1e3,dots:!0,items:1,navSpeed:700,navText:["",""],nav:!1}}ngOnInit(){this.getProductId()}getProductId(){this._ActivatedRoute.params.subscribe(({productId:e})=>{this.productId=e,this.getProductDetails()})}getProductDetails(){this._ProductsService.getProductById(this.productId).subscribe({next:e=>{this.productDetails=e.data},error:e=>{console.error("Error:",e)}})}addToCart(e,t){this._Renderer2.setAttribute(t,"disabled","true"),this._CartService.addToCart(e).subscribe({next:s=>{this.toastr.success(s.message),this._Renderer2.removeAttribute(t,"disabled"),this._CartService.cartItemsLength.next(s.numOfCartItems)},error:s=>{this._Renderer2.removeAttribute(t,"disabled"),console.error("Error:",s)}})}addToWishlist(e){this._WishlistService.addToWishlist(e).subscribe({next:t=>{this.toastr.success(t.message),this.idsOfProductsYouLikedThem=t.data,this._WishlistService.wishlistLength.next(this.idsOfProductsYouLikedThem.length)},error:t=>{console.error("Error:",t)}})}};n.\u0275fac=function(t){return new(t||n)(S(N))},n.\u0275cmp=x({type:n,selectors:[["app-product-details"]],standalone:!0,features:[E],decls:1,vars:1,consts:[["addBtn",""],[1,"w-75","mx-auto","shadow","rounded","p-3","bg-main-light","mt-3","product"],[1,"fa-heart","fs-3","heart-icon",3,"click","ngClass"],[1,"row"],[1,"col-md-3"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9","d-flex","align-items-center"],[1,"h5"],[1,"text-muted","small"],[1,"d-flex","align-items-center","justify-content-between","my-3"],[1,"small"],[1,"mb-0"],[1,"fas","fa-star","rating-color"],[1,"main-btn","w-100","py-2",3,"click"],["carouselSlide",""],["height","300",1,"w-100",3,"src"]],template:function(t,s){t&1&&h(0,U,25,11,"section",1),t&2&&b(s.productDetails?0:-1)},dependencies:[W,M,j,Y,F,A]});let r=n;return r})();export{rt as ProductDetailsComponent};
